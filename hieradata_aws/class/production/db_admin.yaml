govuk_env_sync::tasks:
  # TODO: remove this rule once it's been run on target machines
  "push_account_api_production_daily":
    ensure: "absent"
    hour: "0"
    minute: "52"
    action: "push"
    dbms: "postgresql"
    storagebackend: "s3"
    database: "account-api_production"
    database_hostname: "postgresql-primary"
    temppath: "/tmp/account-api_production"
    url: "govuk-production-database-backups"
    path: "postgresql-backend"
  "push_collections_publisher_production_daily":
    ensure: "present"
    hour: "0"
    minute: "12"
    action: "push"
    dbms: "mysql"
    storagebackend: "s3"
    database: "collections_publisher_production"
    database_hostname: "mysql-primary"
    temppath: "/tmp/collections_publisher_production"
    url: "govuk-production-database-backups"
    path: "mysql"
  "pull_collections_publisher_production_daily":
    ensure: "disabled"
    hour: "1"
    minute: "00"
    action: "pull"
    dbms: "mysql"
    storagebackend: "s3"
    database: "collections_publisher_production"
    database_hostname: "mysql-primary"
    temppath: "/tmp/collections_publisher_production"
    url: "govuk-production-database-backups"
    path: "mysql"
  "push_contacts_production_daily":
    ensure: "present"
    hour: "0"
    minute: "14"
    action: "push"
    dbms: "mysql"
    storagebackend: "s3"
    database: "contacts_production"
    database_hostname: "mysql-primary"
    temppath: "/tmp/contacts_production"
    url: "govuk-production-database-backups"
    path: "mysql"
  "pull_contacts_production_daily":
    ensure: "disabled"
    hour: "1"
    minute: "15"
    action: "pull"
    dbms: "mysql"
    storagebackend: "s3"
    database: "contacts_production"
    database_hostname: "mysql-primary"
    temppath: "/tmp/contacts_production"
    url: "govuk-production-database-backups"
    path: "mysql"
  "push_content_data_admin_production_daily":
    ensure: "present"
    hour: "1"
    minute: "0"
    action: "push"
    dbms: "postgresql"
    storagebackend: "s3"
    database: "content_data_admin_production"
    database_hostname: "postgresql-primary"
    temppath: "/tmp/content_data_admin_production_push"
    url: "govuk-production-database-backups"
    path: "postgresql-backend"
  "push_content_publisher_production_daily":
    ensure: "present"
    hour: "0"
    minute: "45"
    action: "push"
    dbms: "postgresql"
    storagebackend: "s3"
    database: "content_publisher_production"
    database_hostname: "postgresql-primary"
    temppath: "/tmp/content_publisher_production"
    url: "govuk-production-database-backups"
    path: "postgresql-backend"
  "pull_content_publisher_production_daily":
    ensure: "disabled"
    hour: "2"
    minute: "00"
    action: "pull"
    dbms: "postgresql"
    storagebackend: "s3"
    database: "content_publisher_production"
    database_hostname: "postgresql-primary"
    temppath: "/tmp/content_publisher_production"
    url: "govuk-production-database-backups"
    path: "postgresql-backend"
  "push_content_tagger_production_daily":
    ensure: "present"
    hour: "0"
    minute: "6"
    action: "push"
    dbms: "postgresql"
    storagebackend: "s3"
    database: "content_tagger_production"
    database_hostname: "postgresql-primary"
    temppath: "/tmp/content_tagger_production"
    url: "govuk-production-database-backups"
    path: "postgresql-backend"
  "pull_content_tagger_production_daily":
    ensure: "disabled"
    hour: "1"
    minute: "30"
    action: "pull"
    dbms: "postgresql"
    storagebackend: "s3"
    database: "content_tagger_production"
    database_hostname: "postgresql-primary"
    temppath: "/tmp/content_tagger_production"
    url: "govuk-production-database-backups"
    path: "postgresql-backend"
  "push_email_alert_api_production_daily":
    ensure: "present"
    hour: "23"
    minute: "00"
    action: "push"
    dbms: "postgresql"
    storagebackend: "s3"
    database: "email-alert-api_production"
    database_hostname: "postgresql-primary"
    temppath: "/tmp/email-alert-api_production"
    url: "govuk-production-database-backups"
    path: "postgresql-backend"
  "push_govuk_assets_production":
    ensure: "present"
    hour: "1"
    minute: "00"
    action: "push"
    dbms: "documentdb"
    storagebackend: "s3"
    database: "govuk_assets_production"
    temppath: "/tmp/govuk_assets_production"
    url: "govuk-production-database-backups"
    path: "mongo-normal"
  "push_govuk_content_production":
    ensure: "present"
    hour: "2"
    minute: "51"
    action: "push"
    dbms: "documentdb"
    storagebackend: "s3"
    database: "govuk_content_production"
    temppath: "/tmp/govuk_content_production"
    url: "govuk-production-database-backups"
    path: "mongo-normal"
  "push_local-links-manager_production_daily":
    ensure: "present"
    hour: "3"
    minute: "0"
    action: "push"
    dbms: "postgresql"
    storagebackend: "s3"
    database: "local-links-manager_production"
    database_hostname: "postgresql-primary"
    temppath: "/tmp/local-links-manager_production"
    url: "govuk-production-database-backups"
    path: "postgresql-backend"
  "push_publishing_api_production_daily":
    ensure: "present"
    hour: "2"
    minute: "00"
    action: "push"
    dbms: "postgresql"
    storagebackend: "s3"
    database: "publishing_api_production"
    database_hostname: "postgresql-primary"
    temppath: "/tmp/publishing_api_production"
    url: "govuk-production-database-backups"
    path: "postgresql-backend"
  "push_whitehall_production_daily":
    ensure: "present"
    hour: "1"
    minute: "00"
    action: "push"
    dbms: "mysql"
    storagebackend: "s3"
    database: "whitehall_production"
    database_hostname: "mysql-primary"
    temppath: "/tmp/whitehall_production"
    url: "govuk-production-database-backups"
    path: "mysql"
  "push_link_checker_api_production_daily":
    ensure: "present"
    hour: "3"
    minute: "0"
    action: "push"
    dbms: "postgresql"
    storagebackend: "s3"
    database: "link_checker_api_production"
    database_hostname: "postgresql-primary"
    temppath: "/tmp/link_checker_api_production"
    url: "govuk-production-database-backups"
    path: "postgresql-backend"
  "push_maslow_production":
    ensure: "present"
    hour: "1"
    minute: "21"
    action: "push"
    dbms: "documentdb"
    storagebackend: "s3"
    database: "maslow_production"
    temppath: "/tmp/maslow_production"
    url: "govuk-production-database-backups"
    path: "mongo-normal"
  "pull_maslow_production":
    ensure: "disabled"
    hour: "1"
    minute: "05"
    action: "pull"
    dbms: "documentdb"
    storagebackend: "s3"
    database: "maslow_production"
    temppath: "/tmp/maslow_production"
    url: "govuk-production-database-backups"
    path: "mongo-normal"
  "push_search_admin_production_daily":
    ensure: "present"
    hour: "0"
    minute: "20"
    action: "push"
    dbms: "mysql"
    storagebackend: "s3"
    database: "search_admin_production"
    database_hostname: "mysql-primary"
    temppath: "/tmp/search_admin_production"
    url: "govuk-production-database-backups"
    path: "mysql"
  "pull_search_admin_production_daily":
    ensure: "disabled"
    hour: "0"
    minute: "20"
    action: "pull"
    dbms: "mysql"
    storagebackend: "s3"
    database: "search_admin_production"
    database_hostname: "mysql-primary"
    temppath: "/tmp/search_admin_production"
    url: "govuk-production-database-backups"
    path: "mysql"
  "push_service_manual_publisher_production_daily":
    ensure: "present"
    hour: "0"
    minute: "36"
    action: "push"
    dbms: "postgresql"
    storagebackend: "s3"
    database: "service-manual-publisher_production"
    database_hostname: "postgresql-primary"
    temppath: "/tmp/service-manual-publisher_production"
    url: "govuk-production-database-backups"
    path: "postgresql-backend"
  "pull_service_manual_publisher_production_daily":
    ensure: "disabled"
    hour: "1"
    minute: "5"
    action: "pull"
    dbms: "postgresql"
    storagebackend: "s3"
    database: "service-manual-publisher_production"
    database_hostname: "postgresql-primary"
    temppath: "/tmp/service-manual-publisher_production"
    url: "govuk-production-database-backups"
    path: "postgresql-backend"
  "push_short_url_manager_production":
    ensure: "present"
    hour: "1"
    minute: "25"
    action: "push"
    dbms: "documentdb"
    storagebackend: "s3"
    database: "short_url_manager_production"
    temppath: "/tmp/short_url_manager_production"
    url: "govuk-production-database-backups"
    path: "mongo-normal"
  "pull_short_url_manager_production":
    ensure: "disabled"
    hour: "1"
    minute: "25"
    action: "pull"
    dbms: "documentdb"
    storagebackend: "s3"
    database: "short_url_manager_production"
    temppath: "/tmp/short_url_manager_production"
    url: "govuk-production-database-backups"
    path: "mongo-normal"
  "push_signon_production_daily":
    ensure: "present"
    hour: "0"
    minute: "30"
    action: "push"
    dbms: "mysql"
    storagebackend: "s3"
    database: "signon_production"
    database_hostname: "mysql-primary"
    temppath: "/tmp/signon_production"
    url: "govuk-production-database-backups"
    path: "mysql"
  "push_support-contacts_production_daily":
    ensure: "present"
    hour: "2"
    minute: "30"
    action: "push"
    dbms: "postgresql"
    storagebackend: "s3"
    database: "support_contacts_production"
    database_hostname: "postgresql-primary"
    temppath: "/tmp/"
    url: "govuk-production-database-backups"
    path: "postgresql-backend"
  "push_travel_advice_publisher_production":
    ensure: "present"
    hour: "1"
    minute: "35"
    action: "push"
    dbms: "documentdb"
    storagebackend: "s3"
    database: "travel_advice_publisher_production"
    temppath: "/tmp/travel_advice_publisher_production"
    url: "govuk-production-database-backups"
    path: "mongo-normal"
  "pull_travel_advice_publisher_production":
    ensure: "disabled"
    hour: "1"
    minute: "35"
    action: "pull"
    dbms: "documentdb"
    storagebackend: "s3"
    database: "travel_advice_publisher_production"
    temppath: "/tmp/travel_advice_publisher_production"
    url: "govuk-production-database-backups"
    path: "mongo-normal"
  "push_licensify_production": &push_licensify
    hour: "1"
    minute: "30"
    action: "push"
    dbms: "documentdb"
    storagebackend: "s3"
    database: "licensify"
    temppath: "/tmp/licensify_production"
    url: "govuk-production-database-backups"
    path: "mongo-licensing"
  "push_licensify_refdata_production":
    <<: *push_licensify
    database: "licensify-refdata"
  "push_licensify_audit_production":
    <<: *push_licensify
    hour: "1"
    minute: "45"
    database: "licensify-audit"
  "push_release_production_daily":
    ensure: "present"
    hour: "0"
    minute: "15"
    action: "push"
    dbms: "mysql"
    storagebackend: "s3"
    database: "release_production"
    database_hostname: "mysql-primary"
    temppath: "/tmp/release_production"
    url: "govuk-production-database-backups"
    path: "mysql"
  # The pull_*_production configs below are not run automatically. The
  # ensure:disabled means that they are present on the db_admin machine but
  # without crontab entries. This allows for manual restores when needed.
  "pull_email_alert_api_production":
    ensure: "disabled"
    hour: "0"
    minute: "00"
    action: "pull"
    dbms: "postgresql"
    storagebackend: "s3"
    database: "email-alert-api_production"
    database_hostname: "postgresql-primary"
    temppath: "/tmp/email-alert-api_production"
    url: "govuk-production-database-backups"
    path: "postgresql-backend"
  "pull_govuk_assets_production":
    ensure: "disabled"
    hour: "0"
    minute: "00"
    action: "pull"
    dbms: "documentdb"
    storagebackend: "s3"
    database: "govuk_assets_production"
    temppath: "/tmp/govuk_assets_production"
    url: "govuk-production-database-backups"
    path: "mongo-normal"
  "pull_licensify_production": &pull_licensify
    ensure: "disabled"
    hour: "0"
    minute: "00"
    action: "pull"
    dbms: "documentdb"
    storagebackend: "s3"
    database: "licensify"
    temppath: "/tmp/licensify_production"
    url: "govuk-production-database-backups"
    path: "mongo-licensing"
  "pull_licensify_refdata_production":
    <<: *pull_licensify
    ensure: "disabled"
    database: "licensify-refdata"
  "pull_licensify_audit_production":
    <<: *pull_licensify
    ensure: "disabled"
    database: "licensify-audit"
  "pull_whitehall_production_daily":
    ensure: "disabled"
    hour: "0"
    minute: "00"
    action: "pull"
    dbms: "mysql"
    storagebackend: "s3"
    database: "whitehall_production"
    database_hostname: "mysql-primary"
    temppath: "/tmp/whitehall_production"
    url: "govuk-production-database-backups"
    path: "mysql"
  "pull_publishing_api_production":
    ensure: "disabled"
    hour: "0"
    minute: "00"
    action: "pull"
    dbms: "postgresql"
    database_hostname: "postgresql-primary"
    storagebackend: "s3"
    database: "publishing_api_production"
    temppath: "/tmp/publishing_api_production"
    url: "govuk-production-database-backups"
    path: "postgresql-backend"
  "pull_release_production":
    ensure: "disabled"
    hour: "0"
    minute: "00"
    action: "pull"
    dbms: "mysql"
    storagebackend: "s3"
    database: "release_production"
    database_hostname: "mysql-primary"
    temppath: "/tmp/release_production"
    url: "govuk-production-database-backups"
    path: "mysql"
